{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useCallback } from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\nexport var CHECK_TIMEOUT = 300; // eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport var wrapMenuList = function wrapMenuList(MenuList) {\n  var WrappedMenuList = function WrappedMenuList(props) {\n    var _props$selectProps = props.selectProps,\n        handleScrolledToBottom = _props$selectProps.handleScrolledToBottom,\n        shouldLoadMore = _props$selectProps.shouldLoadMore,\n        innerRef = props.innerRef,\n        useEffectProp = props.useEffect,\n        useRefProp = props.useRef,\n        useCallbackProp = props.useCallback,\n        setTimeoutProp = props.setTimeout,\n        clearTimeoutProp = props.clearTimeout;\n    var checkTimeoutRef = useRefProp(null);\n    var menuListRef = useRefProp(null);\n    var shouldHandle = useCallbackProp(function () {\n      var el = menuListRef.current; // menu not rendered\n\n      if (!el) {\n        return false;\n      }\n\n      var scrollTop = el.scrollTop,\n          scrollHeight = el.scrollHeight,\n          clientHeight = el.clientHeight;\n      return shouldLoadMore(scrollHeight, clientHeight, scrollTop);\n    }, [shouldLoadMore]);\n    var checkAndHandle = useCallbackProp(function () {\n      if (shouldHandle()) {\n        if (handleScrolledToBottom) {\n          handleScrolledToBottom();\n        }\n      }\n    }, [shouldHandle, handleScrolledToBottom]);\n    var setCheckAndHandleTimeout = useCallbackProp(function () {\n      checkAndHandle();\n      checkTimeoutRef.current = setTimeoutProp(setCheckAndHandleTimeout, CHECK_TIMEOUT);\n    }, [checkAndHandle]);\n    useEffectProp(function () {\n      setCheckAndHandleTimeout();\n      return function () {\n        if (checkTimeoutRef.current) {\n          clearTimeoutProp(checkTimeoutRef.current);\n        }\n      };\n    }, []);\n    return /*#__PURE__*/_jsx(MenuList, _objectSpread(_objectSpread({}, props), {}, {\n      innerRef: composeRefs(innerRef, menuListRef)\n    }));\n  };\n\n  WrappedMenuList.defaultProps = {\n    useEffect: useEffect,\n    useRef: useRef,\n    useCallback: useCallback,\n    setTimeout: setTimeout,\n    clearTimeout: clearTimeout\n  };\n  return WrappedMenuList;\n};","map":{"version":3,"sources":["D:/PhladRian/frontend/node_modules/react-select-async-paginate/es/wrapMenuList.js"],"names":["_objectSpread","jsx","_jsx","useEffect","useRef","useCallback","composeRefs","CHECK_TIMEOUT","wrapMenuList","MenuList","WrappedMenuList","props","_props$selectProps","selectProps","handleScrolledToBottom","shouldLoadMore","innerRef","useEffectProp","useRefProp","useCallbackProp","setTimeoutProp","setTimeout","clearTimeoutProp","clearTimeout","checkTimeoutRef","menuListRef","shouldHandle","el","current","scrollTop","scrollHeight","clientHeight","checkAndHandle","setCheckAndHandleTimeout","defaultProps"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useCallback } from 'react';\nimport composeRefs from '@seznam/compose-react-refs';\nexport var CHECK_TIMEOUT = 300;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport var wrapMenuList = function wrapMenuList(MenuList) {\n  var WrappedMenuList = function WrappedMenuList(props) {\n    var _props$selectProps = props.selectProps,\n        handleScrolledToBottom = _props$selectProps.handleScrolledToBottom,\n        shouldLoadMore = _props$selectProps.shouldLoadMore,\n        innerRef = props.innerRef,\n        useEffectProp = props.useEffect,\n        useRefProp = props.useRef,\n        useCallbackProp = props.useCallback,\n        setTimeoutProp = props.setTimeout,\n        clearTimeoutProp = props.clearTimeout;\n    var checkTimeoutRef = useRefProp(null);\n    var menuListRef = useRefProp(null);\n    var shouldHandle = useCallbackProp(function () {\n      var el = menuListRef.current; // menu not rendered\n\n      if (!el) {\n        return false;\n      }\n\n      var scrollTop = el.scrollTop,\n          scrollHeight = el.scrollHeight,\n          clientHeight = el.clientHeight;\n      return shouldLoadMore(scrollHeight, clientHeight, scrollTop);\n    }, [shouldLoadMore]);\n    var checkAndHandle = useCallbackProp(function () {\n      if (shouldHandle()) {\n        if (handleScrolledToBottom) {\n          handleScrolledToBottom();\n        }\n      }\n    }, [shouldHandle, handleScrolledToBottom]);\n    var setCheckAndHandleTimeout = useCallbackProp(function () {\n      checkAndHandle();\n      checkTimeoutRef.current = setTimeoutProp(setCheckAndHandleTimeout, CHECK_TIMEOUT);\n    }, [checkAndHandle]);\n    useEffectProp(function () {\n      setCheckAndHandleTimeout();\n      return function () {\n        if (checkTimeoutRef.current) {\n          clearTimeoutProp(checkTimeoutRef.current);\n        }\n      };\n    }, []);\n    return /*#__PURE__*/_jsx(MenuList, _objectSpread(_objectSpread({}, props), {}, {\n      innerRef: composeRefs(innerRef, menuListRef)\n    }));\n  };\n\n  WrappedMenuList.defaultProps = {\n    useEffect: useEffect,\n    useRef: useRef,\n    useCallback: useCallback,\n    setTimeout: setTimeout,\n    clearTimeout: clearTimeout\n  };\n  return WrappedMenuList;\n};"]},"metadata":{},"sourceType":"module"}